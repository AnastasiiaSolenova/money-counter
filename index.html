<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Счетчик монет</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
        }
        .input-field, .action-field, .result-field {
            margin-bottom: 20px;
        }
        .input-field label, .action-field label {
            display: block;
            margin-bottom: 5px;
        }
        .input-field input, .action-field input, .action-field select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
        }
        .result-field {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .result-field p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Счетчик монет</h1>
    <div class="input-field">
        <label for="initial-coins">Первоначальное количество монет:</label>
        <input type="number" id="initial-coins" placeholder="Введите количество монет">
    </div>
    <div class="action-field">
        <label for="action">Выберите действие:</label>
        <select id="action">
            <!-- Приветственный бонус -->
            <option value="100">Принятая анкета персонажа (100 монет)</option>
            <option value="50">Анкета за 24 часа после регистрации (50 монет)</option>
            <option value="100">Приведи друга (100 монет каждому)</option>
            <option value="100">Персонаж по заявке на нужных (100 монет каждому)</option>
            <!-- За игру -->
            <option value="15">Открытие личного эпизода (15 монет каждому)</option>
            <option value="50">Игровой пост до 4к символов (50 монет)</option>
            <option value="15">Каждая следующая 1к символов (15 монет)</option>
            <option value="100">Первый пост за персонажа (100 монет)</option>
            <option value="50">Игровой пост в сюжетную игру (50 монет)</option>
            <option value="2x">Ответный пост в течение суток (удваивает монеты)</option>
            <option value="2x10">Каждый десятый пост на профиле (удваивает монеты)</option>
            <option value="300">Завершенный эпизод (300 монет)</option>
            <option value="500">Завершенный квест (500 монет)</option>
            <!-- За внеигровую активность -->
            <option value="1000">Внесение хронологии по шаблону (1000 монет)</option>
            <option value="150">Заявка на нужного персонажа (150 монет)</option>
            <option value="50">Заявка в «хочу видеть» (50 монет)</option>
            <option value="300">Внести родственников в список ожидания (300 монет)</option>
            <option value="100">Вписать персонажа в акции (100 монет)</option>
            <option value="15">Отозваться в теме «хочу к вам» (15 монет)</option>
            <option value="100">Отозваться и начать игру (100 монет)</option>
            <option value="50">Попадание в таблицу (50 монет)</option>
            <option value="300">Отзыв на RPG-топе с оценкой (300 монет)</option>
            <option value="150">Отзыв на RPG-топе от гостя (150 монет)</option>
            <option value="300">Голосование за ролевую месяца на РЕНО (300 монет)</option>
            <option value="100">Платный голос на РЕНО (100 монет)</option>
            <option value="15">Каждые 100 сообщений/репутации/уважения (15 монет)</option>
            <option value="50">Каждые 500 сообщений/репутации/уважения (50 монет)</option>
            <option value="50">Каждые 10 рекламных листовок (50 монет)</option>
            <option value="500">Каждые 100 реклам за сутки (500 монет)</option>
            <option value="100">Маленький баннер в подписи (100 монет)</option>
            <option value="200">Большой баннер в подписи (200 монет)</option>
            <option value="50">Месяц пребывания на форуме (50 монет)</option>
            <option value="50">Выполнение аватара в подарок (50 монет)</option>
            <option value="100">Выполнение графического эпиграфа (100 монет)</option>
            <option value="50">Графическая или ost-эстетика (50 монет)</option>
            <option value="10">Создание темы флуда (10 монет)</option>
            <option value="100">Уникальная развлекательная тема в флуде (100 монет)</option>
            <option value="20">Рекомендация фильмов/книг/сериалов/рецептов (20 монет)</option>
            <option value="x5">Внесение денежных средств в фонд форума (x5 монет от суммы)</option>
            <option value="ams">Помощь администрации (на усмотрение амс)</option>
        </select>
        <div id="additional-input" style="display: none;">
            <label for="extra-coins">Количество монет за пост:</label>
            <input type="number" id="extra-coins" placeholder="Введите количество монет">
        </div>
        <label for="link">Ссылка (необязательно):</label>
        <input type="url" id="link" placeholder="Введите ссылку">
        <label for="link-name">Название ссылки:</label>
        <input type="text" id="link-name" placeholder="Введите название ссылки">
        <button onclick="addAction()">Добавить действие</button>
    </div>
    <div class="result-field">
        <p><strong>За что начисляем с доказательствами:</strong></p>
        <div id="actions-list"></div>
        <p><strong>Сколько заработали:</strong> <span id="earned-coins">0</span> монет</p>
        <p><strong>Итоговая сумма монет в профиле:</strong> <span id="total-coins">0</span> монет</p>
    </div>
    <div class="script-field">
        <label for="script">Скрипт для вставки на форум:</label>
        <textarea id="script" rows="4" readonly></textarea>
    </div>
</div>

<script>
    let initialCoins = 0;
    let earnedCoins = 0;

    document.getElementById('action').addEventListener('change', function() {
        const additionalInput = document.getElementById('additional-input');
        if (this.value === '2x' || this.value === 'x5' || this.value === '2x10') {
            additionalInput.style.display = 'block';
        } else {
            additionalInput.style.display = 'none';
        }
    });

    function addAction() {
        const action = document.getElementById('action').value;
        let actionValue = 0;

        if (action === '2x' || action === '2x10') {
            const extraCoins = parseInt(document.getElementById('extra-coins').value);
            actionValue = extraCoins * 2;
        } else if (action === 'x5') {
            const extraCoins = parseInt(document.getElementById('extra-coins').value);
            actionValue = extraCoins * 5;
        } else if (action === 'ams') {
            actionValue = parseInt(prompt("Введите количество монет, определенное амс"));
        } else {
            actionValue = parseInt(action);
        }

        const link = document.getElementById('link').value;
        const linkName = document.getElementById('link-name').value;

        earnedCoins += actionValue;

        let actionText = `Действие на ${actionValue} монет`;
        if (link && linkName) {
            actionText += `: [url=${link}]${linkName}[/url]`;
        }

        const actionItem = document.createElement('p');
        actionItem.innerText = actionText;
        document.getElementById('actions-list').appendChild(actionItem);

        document.getElementById('earned-coins').innerText = earnedCoins;
        document.getElementById('total-coins').innerText = initialCoins
        document.getElementById('total-coins').innerText = initialCoins + earnedCoins;

        updateScript();
    }

    function updateScript() {
        const actionsList = document.getElementById('actions-list').innerHTML
            .replace(/<p>/g, '[indent]')
            .replace(/<\/p>/g, '');
        const scriptContent = `
[indent][b]За что начисляем с доказательствами:[/b]
[indent]${actionsList}
[indent][b]Сколько заработали:[/b] ${earnedCoins} монет
[indent][b]Итоговая сумма монет в профиле:[/b] ${initialCoins + earnedCoins} монет`;
        document.getElementById('script').value = scriptContent;
    }

    document.getElementById('initial-coins').addEventListener('change', function() {
        initialCoins = parseInt(this.value);
        document.getElementById('total-coins').innerText = initialCoins + earnedCoins;
        updateScript();
    });
</script>
</body>
</html>
